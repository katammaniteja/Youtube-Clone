name: Firebase Deployment


on:
  push:
    branches: -main

jobs:
  deploy: 
    name: Build & deployment
    runs-on: ubuntu-latest

    steps:
      -name: get the source code
      uses: actions/checkout@v3
      -name: install node
      uses: actions/checkout@v3
      with:
        node-version: '12'

      -name: install node packages
      run: npm i

      -name: Build
      run: npm run build
      env: 
        CI: false

      -name: Deploy to Firebase  
      uses: w9jds/firebase-action@master  
      width:
        args: deploy --only hosting
      env:
        FIREBASE_TOKEN: ${{secrets.FIREBASE_TOKEN}}